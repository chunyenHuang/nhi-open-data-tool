{"version":3,"sources":["utils/cache.js","utils/retrieve.js","components/VisitButton.js","components/Statistics.js","components/PCItemsTriageCategoryItem.js","utils/sorting.js","components/PCItemsTriage.js","components/TableFooter.js","components/DataTable.js","components/CellImage.js","components/PCItemsTable.js","components/PCItemPricesInAllOrgsTable.js","components/TextLink.js","components/table/renders.js","components/SameFunctionPCItemsTable.js","components/MatchedAllOfferedPCItemsTable.js","views/PCItem.js","components/NCItemsTable.js","routes.js","views/Home.js","views/PCItems.js","views/NCItems.js","components/GithubLinkButton.js","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["db","Dexie","version","stores","cache","purge","a","delete","open","get","key","table","where","toArray","length","expiredAt","Date","now","data","set","add","update","id","API_URL","retrieve","path","options","bypassCache","endsWith","cacheKey","cachedData","fetch","res","json","output","console","log","getPCItemImageUrl","getTextLinkHtml","label","url","getCertificateLinkUrl","code","getPCItemDetails","VisitButton","title","tooltip","icon","className","variant","target","size","isDisabled","startsWith","tooltipTitle","Tooltip","IconButton","disabled","aria-label","href","Button","color","to","component","Link","useStyles","makeStyles","theme","root","flex","container","marginTop","spacing","marginBottom","TextBox","content","compare","Box","textAlign","fontWeight","p","m","Typography","gutterBottom","Pie","height","margin","top","right","bottom","left","pixelRatio","innerRadius","padAngle","cornerRadius","colors","scheme","borderColor","from","modifiers","radialLabelsSkipAngle","radialLabelsTextXOffset","radialLabelsTextColor","radialLabelsLinkOffset","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","slicesLabelsSkipAngle","slicesLabelsTextColor","animate","motionStiffness","motionDamping","legends","anchor","direction","translateX","itemWidth","itemHeight","itemsSpacing","symbolSize","symbolShape","Statistics","compareData","hides","classes","orgData","orgCompareData","priceData","priceCompareData","orgTypeData","Object","keys","map","value","orgLocationData","includes","Grid","item","xs","align","Intl","NumberFormat","format","md","categoryButton","card","padding","PCItemsTriageCategoryItem","category","subcategories","Card","CardContent","CardActions","index","split","subtext","i","filter","num","sortBy","inField","inReverse","b","val","naturalCompare","codeA","codeB","posA","posB","alphabet","String","getCode","str","pos","slice","indexOf","charAt","charCodeAt","flexGrow","paddingTop","display","tabContainer","width","tabs","borderRight","palette","divider","minWidth","TabPanel","props","children","other","role","hidden","aria-labelledby","PCItemsTriage","useState","categories","setCategories","React","setValue","useEffect","sort","Tabs","orientation","onChange","event","newValue","Tab","aria-controls","CustomFooter","handleRowChange","changeRowsPerPage","handlePageChange","_","page","changePage","this","description","count","textLabels","rowsPerPage","TableFooter","TableRow","TableCell","dangerouslySetInnerHTML","__html","style","justifyContent","colSpan","labelRowsPerPage","labelDisplayedRows","displayRows","backIconButtonProps","previous","nextIconButtonProps","next","rowsPerPageOptions","onChangePage","onChangeRowsPerPage","Component","withStyles","name","number","DataTable","columns","updatedOptions","assign","enableNestedDataAccess","pagination","responsive","filterType","fixedHeader","resizableColumns","selectableRows","print","download","downloadOptions","filename","separator","expandableRows","isRowExpandable","isRowSelectable","onRowClick","rowData","rowMeta","dataIndex","body","noMatch","toolTip","columnHeaderTooltip","column","toolbar","search","downloadCsv","viewColumns","filterTable","all","reset","titleAria","customFooter","prototype","hasOwnProperty","call","forEach","edit","type","customBodyRender","moment","img","maxHeight","maxWidth","CellImage","alt","justify","src","PCItemsTable","prefilters","setData","records","filterList","filterOptions","fullWidth","x","replace","PCItemPricesInAllOrgsTable","TextLink","args","fontSize","RouteLink","certificateLinkRender","match","SameFunctionPCItemsTable","funcName","allItems","MatchedAllOfferedPCItemsTable","statisticsContainer","space","NCItemsTable","documentTitle","exact","Container","location","querystring","parse","arrayFormat","hideFromMenu","inId","setId","setItem","subcategory","setSubcategory","params","matched","find","details","Paper","sm","alignItems","GithubLinkButton","githubUrl","undefined","appBar","marginRight","cursor","button","marginLeft","Header","history","useHistory","lastUpdatedAt","setLastUpdatedAt","AppBar","position","Toolbar","onClick","push","routes","fromNow","main","spinner","App","isLoading","setIsLoading","cacheLastUpdatedAt","setTimeout","CircularProgress","basename","Suspense","fallback","CssBaseline","route","render","Boolean","window","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.46505a95.chunk.js","sourcesContent":["import Dexie from 'dexie';\n\nconst db = new Dexie('nhi-open-data-tool');\ndb.version(1).stores({\n  cache: '++id,key',\n});\n\nconst TTL = 6 * 3600 * 1000; // 6 hours\n\nexport default {\n  purge: async () => {\n    // https://github.com/dfahlander/Dexie.js/issues/521#issuecomment-298136079\n    await db.delete();\n    await db.open();\n  },\n\n  get: async (key) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    if (cache.length === 0) {\n      return;\n    }\n\n    if (!cache[0].expiredAt || cache[0].expiredAt < Date.now()) {\n      return;\n    }\n\n    return cache[0].data;\n  },\n\n  set: async (key, data) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    const expiredAt = Date.now() + TTL;\n    if (cache.length === 0) {\n      await db.table('cache').add({ key, data, expiredAt });\n    } else {\n      await db.table('cache').update(cache[0].id, { key, data, expiredAt });\n    }\n  },\n};\n","import cache from './cache';\n\nconst API_URL = `https://raw.githubusercontent.com/chunyenHuang/nhi-open-data-tool/master/data/latest`;\n\nexport default async function retrieve(path, options = {}) {\n  const { bypassCache = false } = options;\n  path = path.endsWith('.json') ? path : `${path}.json`;\n  const cacheKey = `api:${path}`;\n  const cachedData = await cache.get(cacheKey);\n  if (!bypassCache && cachedData) {\n    return cachedData;\n  }\n\n  const res = await fetch(`${API_URL}/${path}`);\n  const output = await res.json();\n\n  console.log(output);\n\n  await cache.set(cacheKey, output);\n\n  return output;\n}\n\nexport const getPCItemImageUrl = (id) => {\n  return `https://www.nhi.gov.tw/Query4Pic/${id}.jpg`;\n};\n\nexport const getTextLinkHtml = (label, url) => {\n  return `<a href=\"${url}\" rel=\"noopener\" target=\"_blank\" style=\"none;\">${label}</a>`;\n};\n\nexport const getCertificateLinkUrl = (code) => {\n  return `http://www.fda.gov.tw/MLMS/H0001D.aspx?Type=Lic&LicId=06${code}`;\n};\n\nexport const getPCItemDetails = async (id) => {\n  const url = `http://www.nhi.gov.tw/QueryN/Query4.aspx?n=B2A92523DCC12607&sms=36A0BB334ECB4011&topn=3185A4DF68749BA9&upn=219B112AF4D47148&ctl00%24ContentPlaceHolder1%24tbxQ4ID=${id}`;\n  console.log(url);\n\n  const res = await fetch(url);\n  console.log(res);\n  const output = await res.json();\n\n  return output;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { Link } from 'react-router-dom';\n\nfunction VisitButton({ url = '', title = 'Visit', tooltip, icon, className, variant = 'outlined', target = '_self', size = 'small' }) {\n  if (typeof url !== 'string') return null;\n\n  const isDisabled = (!url || url === '' || (!url.startsWith('http') && !url.startsWith('/')));\n\n  const tooltipTitle = tooltip || (isDisabled ? '' : title);\n\n  if (icon) {\n    return (\n      <Tooltip title={tooltipTitle}>\n        <span>\n          <IconButton\n            className={className}\n            disabled={isDisabled}\n            aria-label={title}\n            // component=\"span\"\n            target=\"_self\"\n            href={url}\n            size={size}\n          >\n            {icon}\n          </IconButton>\n        </span>\n      </Tooltip>);\n  }\n  if (url.startsWith('/')) {\n    return (\n      <Button\n        className={className}\n        variant={variant}\n        color=\"primary\"\n        size={size}\n        to={url}\n        disabled={isDisabled}\n        component={Link}\n        target={target}\n      >\n        {title}\n      </Button>);\n  }\n  return (\n    <Button\n      className={className}\n      variant={variant}\n      color=\"primary\"\n      size={size}\n      target=\"_self\"\n      href={url}\n      disabled={isDisabled}\n    >\n      {title}\n    </Button>);\n}\n\nVisitButton.propTypes = {\n  url: PropTypes.string,\n  title: PropTypes.string,\n  tooltip: PropTypes.string,\n  icon: PropTypes.object,\n  className: PropTypes.string,\n  variant: PropTypes.string,\n  target: PropTypes.string,\n  size: PropTypes.string,\n};\n\nexport default VisitButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { ResponsivePieCanvas } from '@nivo/pie';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n  },\n  container: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n    flex: 1,\n  },\n}));\n\nfunction TextBox({ label, content, compare }) {\n  return (\n    <Box textAlign=\"center\" fontWeight=\"fontWeightBold\" p={2} m={2}>\n      <Typography gutterBottom variant=\"h6\" component=\"h1\">\n        {label}\n      </Typography>\n      <Typography gutterBottom variant=\"h4\" component=\"h1\" color=\"primary\">\n        {content}\n      </Typography>\n      {compare && compare !== 'NaN' &&\n      <Typography gutterBottom variant=\"h6s\" component=\"h1\" color=\"textSecondary\">\n        {compare}\n      </Typography>}\n    </Box>);\n}\n\nTextBox.propTypes = {\n  label: PropTypes.string.isRequired,\n  content: PropTypes.string.isRequired,\n  compare: PropTypes.string,\n};\n\nfunction Pie({ data = [] }) {\n  return (\n    <Box height={500}>\n      <ResponsivePieCanvas\n        data={data}\n        margin={{ top: 40, right: 200, bottom: 40, left: 80 }}\n        pixelRatio={1}\n        innerRadius={0.5}\n        padAngle={0.7}\n        cornerRadius={3}\n        colors={{ scheme: 'paired' }}\n        borderColor={{ from: 'color', modifiers: [['darker', 0.6]] }}\n        radialLabelsSkipAngle={10}\n        radialLabelsTextXOffset={6}\n        radialLabelsTextColor=\"#333333\"\n        radialLabelsLinkOffset={0}\n        radialLabelsLinkDiagonalLength={16}\n        radialLabelsLinkHorizontalLength={24}\n        radialLabelsLinkStrokeWidth={1}\n        radialLabelsLinkColor={{ from: 'color' }}\n        slicesLabelsSkipAngle={10}\n        slicesLabelsTextColor=\"#333333\"\n        animate={true}\n        motionStiffness={90}\n        motionDamping={15}\n        legends={[\n          {\n            anchor: 'right',\n            direction: 'column',\n            translateX: 140,\n            itemWidth: 60,\n            itemHeight: 14,\n            itemsSpacing: 2,\n            symbolSize: 14,\n            symbolShape: 'circle',\n          },\n        ]}\n      />\n    </Box>);\n}\n\nPie.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nexport default function Statistics({ data = {}, compareData = {}, hides = [] }) {\n  const classes = useStyles();\n\n  const orgData = data['醫療機構'];\n  const orgCompareData = compareData['醫療機構'] || {};\n  const priceData = data['自付差額'];\n  const priceCompareData = compareData['自付差額'];\n\n  if (!orgData || !priceData) return null;\n\n  const orgTypeData = Object.keys(orgData['特約類別']).map((key) => {\n    return {\n      id: key,\n      label: key,\n      value: orgData['特約類別'][key],\n    };\n  });\n\n  const orgLocationData = Object.keys(orgData['地區']).map((key) => {\n    return {\n      id: key,\n      label: key,\n      value: orgData['地區'][key],\n    };\n  });\n\n  return (\n    <div className={classes.root}>\n      {!hides.includes('自付差額') &&\n      <Grid container className={classes.container}>\n        <Grid item xs={12} align=\"center\">\n          <Typography gutterBottom variant=\"subtitle1\" component=\"h5\" color=\"textSecondary\">\n            自付差額 {priceCompareData && <span> - 相較於此分類所有項目 (灰色部分)</span>}\n          </Typography>\n        </Grid>\n        {priceData['健保給付點數'] &&\n        <Grid item xs={12}>\n          <TextBox\n            label=\"健保給付點數\"\n            content={new Intl.NumberFormat().format(priceData['健保給付點數'])}\n          />\n        </Grid>}\n        <Grid item xs={4}>\n          <TextBox\n            label=\"最低\"\n            content={new Intl.NumberFormat().format(priceData['最低'])}\n            compare={priceCompareData && new Intl.NumberFormat().format(priceCompareData['最低'])}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <TextBox\n            label=\"最高\"\n            content={new Intl.NumberFormat().format(priceData['最高'])}\n            compare={priceCompareData && new Intl.NumberFormat().format(priceCompareData['最高'])}\n          />\n        </Grid>\n        <Grid item xs={4}>\n          <TextBox\n            label=\"中位數\"\n            content={new Intl.NumberFormat().format(priceData['中位數'])}\n            compare={priceCompareData && new Intl.NumberFormat().format(priceCompareData['中位數'])}\n          />\n        </Grid>\n      </Grid>}\n      {!hides.includes('醫療機構') &&\n      <Grid container spacing={2} className={classes.container}>\n        <Grid item xs={12} align=\"center\">\n          <Typography gutterBottom variant=\"subtitle1\" component=\"h5\" color=\"textSecondary\">\n            相關醫療機構 {orgData['總數']} 間 {orgCompareData['總數'] && <span> - 此分類共有 {orgCompareData['總數']} 間</span>}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Pie data={orgTypeData} />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <Pie data={orgLocationData} />\n        </Grid>\n      </Grid>}\n    </div>);\n}\n\nStatistics.propTypes = {\n  data: PropTypes.object.isRequired,\n  compareData: PropTypes.object,\n  hides: PropTypes.array,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\n\nimport VisitButton from 'components/VisitButton';\nimport Statistics from 'components/Statistics';\n\nconst useStyles = makeStyles((theme) => ({\n  categoryButton: {\n    margin: theme.spacing(2),\n  },\n  card: {\n    padding: theme.spacing(1),\n    // marginLeft: theme.spacing(4),\n    marginBottom: theme.spacing(2),\n  },\n  flex: {\n    flex: 1,\n  },\n}));\n\nexport default function PCItemsTriageCategoryItem({ category = {} }) {\n  const classes = useStyles();\n\n  const subcategories = category['子分類'];\n\n  return (\n    <div>\n      <Card className={classes.card}>\n        <CardContent>\n          <Box textAlign=\"center\">\n            <Typography gutterBottom variant=\"h5\" component=\"h1\">\n              {category['名稱']}\n            </Typography>\n          </Box>\n        </CardContent>\n        <CardActions>\n          <div className={classes.flex} />\n          <VisitButton\n            // className={classes.categoryButton}\n            title={'查看此類別所有醫材'}\n            size=\"small\"\n            url={`/pcItems?類別[]=${category['名稱']}`}\n          />\n          <div className={classes.flex} />\n        </CardActions>\n        <CardContent>\n          <Statistics data={category['統計資料']} />\n        </CardContent>\n      </Card>\n      <Box textAlign=\"center\" p={2}>\n        <Typography gutterBottom variant=\"h5\" component=\"h1\" color=\"textSecondary\">\n          以下為子分類，共有 {subcategories.length} 項\n        </Typography>\n      </Box>\n      {subcategories.map((item, index)=>(\n        <Card className={classes.card} key={index}>\n          <CardContent>\n            <Box textAlign=\"center\">\n              <Typography gutterBottom variant=\"h5\" component=\"h1\">\n                {item['自付差額品項功能分類']}\n              </Typography>\n            </Box>\n          </CardContent>\n          <CardContent>\n            {item['自付差額品項功能分類說明'].split('\\n').map((subtext, i) => (\n              <Typography key={i} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {subtext}\n              </Typography>\n            ))}\n          </CardContent>\n          <CardActions>\n            {['一', '二', '三', '四', '五'].filter((num) => item[`功能${num}`] && item[`功能${num}`] !== '無').map((num)=>(\n              <Button key={num} size=\"small\" color=\"secondary\">\n                {item[`功能${num}`]}\n              </Button>\n            ))}\n            <div className={classes.flex} />\n            <VisitButton\n              // className={classes.categoryButton}\n              title={'查看此子類別相關醫材'}\n              size=\"small\"\n              url={`/pcItems?類別[]=${category['名稱']}&分類[]=${item['自付差額品項功能分類']}`}\n            />\n          </CardActions>\n          <CardContent>\n            <Statistics\n              data={item['統計資料']}\n              compareData={category['統計資料']}\n            />\n          </CardContent>\n        </Card>\n      ))}\n    </div>);\n}\n\nPCItemsTriageCategoryItem.propTypes = {\n  category: PropTypes.object.isRequired,\n};\n","/**\n * sort array by field\n * @param {String} inField\n * @param {Boolean} inReverse\n * @return {Function};\n */\nexport function sortBy(inField, inReverse = false) {\n  return (a, b) => {\n    const val = (!inReverse) ? 1 : -1;\n    if ((a[inField] === b[inField])) return 0;\n    return val * naturalCompare(a[inField], b[inField]);\n  };\n}\n\n/* eslint-disable */\n/* beautify ignore:start */\n// https://github.com/litejs/natural-compare-lite/blob/master/index.js\nvar naturalCompare = function(a, b) {\n\tvar i, codeA\n\t, codeB = 1\n\t, posA = 0\n\t, posB = 0\n\t, alphabet = String.alphabet\n\n\tfunction getCode(str, pos, code) {\n\t\tif (code) {\n\t\t\tfor (i = pos; code = getCode(str, i), code < 76 && code > 65;) ++i;\n\t\t\treturn +str.slice(pos - 1, i)\n\t\t}\n\t\tcode = alphabet && alphabet.indexOf(str.charAt(pos))\n\t\treturn code > -1 ? code + 76 : ((code = str.charCodeAt(pos) || 0), code < 45 || code > 127) ? code\n\t\t\t: code < 46 ? 65               // -\n\t\t\t: code < 48 ? code - 1\n\t\t\t: code < 58 ? code + 18        // 0-9\n\t\t\t: code < 65 ? code - 11\n\t\t\t: code < 91 ? code + 11        // A-Z\n\t\t\t: code < 97 ? code - 37\n\t\t\t: code < 123 ? code + 5        // a-z\n\t\t\t: code - 63\n\t}\n\n\tif ((a+=\"\") != (b+=\"\")) for (;codeB;) {\n\t\tcodeA = getCode(a, posA++)\n\t\tcodeB = getCode(b, posB++)\n\n\t\tif (codeA < 76 && codeB < 76 && codeA > 66 && codeB > 66) {\n\t\t\tcodeA = getCode(a, posA, posA)\n\t\t\tcodeB = getCode(b, posB, posA = i)\n\t\t\tposB = i\n\t\t}\n\n\t\tif (codeA != codeB) return (codeA < codeB) ? -1 : 1\n\t}\n\treturn 0\n}\n/* beautify ignore:end */\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport retrieve from 'utils/retrieve';\nimport PCItemsTriageCategoryItem from 'components/PCItemsTriageCategoryItem';\nimport { sortBy } from 'utils/sorting';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    flexGrow: 1,\n    paddingTop: theme.spacing(3),\n    // backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    // height: 224,\n  },\n  tabContainer: {\n    width: '100%',\n    // height: 600,\n    // overflow: 'scroll',\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    minWidth: 250,\n  },\n}));\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\n\nexport default function PCItemsTriage() {\n  const classes = useStyles();\n\n  const [categories, setCategories] = useState([]);\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const data = (await retrieve('自付差額品項類別')).sort(sortBy('名稱'));\n      console.log(data);\n      setCategories(data);\n    })();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h5\" component=\"h1\">\n        請問有哪些健保給付的醫療特材類別，我可以“自付差額”來選用其他的品項？\n      </Typography>\n\n      <div className={classes.container}>\n        <Tabs\n          orientation=\"vertical\"\n          variant=\"scrollable\"\n          value={value}\n          onChange={handleChange}\n          aria-label=\"自付差額分類\"\n          className={classes.tabs}\n        >\n          {categories.map((item, index)=>(\n            <Tab label={item['名稱']} key={index} id={`vertical-tab-${index}`} aria-controls={`vertical-tabpanel-${index}`} />\n          ))}\n        </Tabs>\n        <div className={classes.tabContainer}>\n          {categories.map((item, index)=>(\n            <TabPanel value={value} index={index} key={index}>\n              <PCItemsTriageCategoryItem\n                category={item}\n              />\n            </TabPanel>\n          ))}\n        </div>\n      </div>\n\n\n      {/* <Typography variant=\"h5\" component=\"h6\">\n        小明想使用不同於健保給付的品項(ex: 維州-豪雅預載式單片型人工水晶體)，想選用 \"博士倫\"優視非球面人工水晶體:非球面軟式人工水晶體\n      </Typography> */}\n    </div>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport MuiTablePagination from '@material-ui/core/TablePagination';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst defaultFooterStyles = {};\n\nclass CustomFooter extends React.Component {\n  handleRowChange = (event) => {\n    this.props.changeRowsPerPage(event.target.value); // eslint-disable-line no-invalid-this\n  };\n\n  handlePageChange = (_, page) => {\n    this.props.changePage(page); // eslint-disable-line no-invalid-this\n  };\n\n  render() {\n    const { description = '', count, textLabels, rowsPerPage, page } = this.props;\n\n    const footerStyle = {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      padding: '0px 24px 0px 24px',\n    };\n\n    return (\n      <TableFooter>\n        <TableRow>\n          <TableCell>\n            <div dangerouslySetInnerHTML={{ __html: description }} />\n          </TableCell>\n          <TableCell style={footerStyle} colSpan={1000}>\n            <MuiTablePagination\n              component='div'\n              count={count}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              labelRowsPerPage={textLabels.rowsPerPage}\n              labelDisplayedRows={({ from, to, count }) => `${from}-${to} ${textLabels.displayRows} ${count}`}\n              backIconButtonProps={{\n                'aria-label': textLabels.previous,\n              }}\n              nextIconButtonProps={{\n                'aria-label': textLabels.next,\n              }}\n              rowsPerPageOptions={[10, 20, 100]}\n              onChangePage={this.handlePageChange}\n              onChangeRowsPerPage={this.handleRowChange}\n            />\n          </TableCell>\n        </TableRow>\n      </TableFooter>\n    );\n  }\n}\n\nCustomFooter.propTypes = {\n  description: PropTypes.string,\n  count: PropTypes.any,\n  classes: PropTypes.any,\n  textLabels: PropTypes.any,\n  rowsPerPage: PropTypes.any,\n  page: PropTypes.any,\n  changeRowsPerPage: PropTypes.func,\n  changePage: PropTypes.func,\n};\n\nexport default withStyles(defaultFooterStyles, { name: 'CustomFooter' })(CustomFooter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from 'mui-datatables';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport TableFooter from './TableFooter';\n\nconst useStyles = makeStyles((theme) => ({\n  number: {},\n}));\n\n\nexport default function DataTable({ title, description, data, columns, options }) {\n  const classes = useStyles();\n\n  const updatedOptions = Object.assign({\n    enableNestedDataAccess: '.',\n    pagination: true,\n    responsive: 'standard',\n    rowsPerPageOptions: [10, 20, 50, 100],\n    rowsPerPage: 10,\n    filterType: 'multiselect',\n    fixedHeader: true,\n    resizableColumns: false,\n    selectableRows: 'none',\n    print: true,\n    download: true,\n    downloadOptions: {\n      filename: `${title}.csv`,\n      separator: ',',\n    },\n    expandableRows: false,\n    isRowExpandable: () => false,\n    isRowSelectable: () => false,\n    onRowClick: (rowData, rowMeta) => {\n      const item = data[rowMeta.dataIndex];\n      console.log(item);\n    },\n    textLabels: {\n      body: {\n        noMatch: '抱歉，找不到相關資料',\n        toolTip: '排序',\n        columnHeaderTooltip: (column) => `使用[${column.label}]排序`,\n      },\n      pagination: {\n        next: '下一頁',\n        previous: '上一頁',\n        rowsPerPage: '每頁顯示',\n        displayRows: '總項目數',\n      },\n      toolbar: {\n        search: '搜尋',\n        downloadCsv: '下載 CSV',\n        print: '列印',\n        viewColumns: '顯示欄位',\n        filterTable: '篩選數據',\n      },\n      filter: {\n        all: '全部',\n        title: '篩選數據',\n        reset: '重設',\n      },\n      viewColumns: {\n        title: '欄位',\n        titleAria: '顯示/隱藏欄位',\n      },\n      // selectedRows: {\n      //   text: 'row(s) selected',\n      //   delete: 'Delete',\n      //   deleteAria: 'Delete Selected Rows',\n      // },\n    },\n    customFooter: (count, page, rowsPerPage, changeRowsPerPage, changePage, textLabels) => {\n      return (\n        <TableFooter\n          description={description}\n          count={count}\n          page={page}\n          rowsPerPage={rowsPerPage}\n          changeRowsPerPage={changeRowsPerPage}\n          changePage={changePage}\n          textLabels={textLabels} />\n      );\n    },\n  }, options);\n\n  columns\n    .map((column, index) => {\n      if (!Object.prototype.hasOwnProperty.call(column, 'options')) {\n        column.options = {};\n      }\n      return column;\n    })\n    .forEach(({ name, edit, type, options = {} }) => {\n      switch (type) {\n      case 'actions':\n        break;\n      case 'datetime':\n        options.customBodyRender = (value) => value ? moment(value).format('YYYY/MM/DD h:mm a') : '';\n        break;\n        // case 'checkbox':\n        //   options.customBodyRender = (value) => {\n        //     const isChecked = (value == 'true' || value === 'yes' || value === true) ? true : false;\n        //     return (<Checkbox checked={isChecked} />);\n        //   };\n        //   break;\n      case 'number':\n        options.customBodyRender = (val) => (\n          <div className={classes.number}>\n            {new Intl.NumberFormat().format(val)}\n          </div>\n        );\n        break;\n      case 'boolean':\n        options.customBodyRender = (val) => val ? 'yes' : 'no';\n        break;\n      default:\n        options.customBodyRender = options.customBodyRender || ((val) => val ? val : null);\n        break;\n      }\n    });\n\n  return (\n    <MUIDataTable\n      title={title}\n      data={data}\n      columns={columns}\n      options={updatedOptions}\n    />\n  );\n}\n\nDataTable.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  data: PropTypes.array,\n  columns: PropTypes.array,\n  options: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  img: {\n    maxHeight: 100,\n    maxWidth: '100%',\n  },\n}));\n\nfunction CellImage({ value = '', alt = '-' }) {\n  const classes = useStyles();\n  return (\n    <Grid container justify=\"center\" align=\"center\">\n      {value && <img src={value} alt={alt} className={classes.img}/>}\n    </Grid>);\n}\n\nCellImage.propTypes = {\n  value: PropTypes.string,\n  alt: PropTypes.string,\n};\n\nexport default CellImage;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl, getTextLinkHtml } from 'utils/retrieve';\n\nexport default function PCItemsTable({ prefilters = {} }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const records = await retrieve('自付差額品項');\n      setData(records.sort(sortBy('中文')).sort(sortBy('分類')).sort(sortBy('類別')));\n    })();\n  }, []);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '類別',\n      label: '類別',\n      options: {\n        filterList: prefilters['類別'] || [],\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '分類',\n      label: '分類',\n      options: {\n        filterList: (prefilters['分類'] || []).map((x) => x.replace(/ /g, '+')),\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.自付差額.最低',\n      label: '最低自付差額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.自付差額.最高',\n      label: '最高自付差額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.自付差額.價差',\n      label: '最低與最高自付差額價差',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.醫療機構.總數',\n      label: '醫療機構數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/pcItem/${value}`} title=\"查看\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"自付差額醫療特材清單\"\n      description={getTextLinkHtml('資料出處：健保署 民眾自付差額品項收費情形', 'https://data.nhi.gov.tw/Datasets/DatasetDetail.aspx?id=663&Mid=A110734')}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nPCItemsTable.propTypes = {\n  prefilters: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\n\nexport default function PCItemPricesInAllOrgsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const records = await retrieve(`自付差額品項收費/品項代碼/${id}`);\n      if (!records[0]) return;\n      setData(records.sort(sortBy('特約院所收費')));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '分區業務組',\n      label: '分區業務組',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '就醫院所縣市別',\n      label: '地區',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '特約類別',\n      label: '特約類別',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫事機構名稱',\n      label: '醫事機構名稱',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫事機構簡稱',\n      label: '醫事機構簡稱',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '醫事機構代碼',\n      label: '醫事機構代碼',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '特約院所收費',\n      label: '自付差額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"各地區機構特材收費\"\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nPCItemPricesInAllOrgsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouteLink } from 'react-router-dom';\n\nfunction TextLink({ url, title = 'link', variant = 'body2', ...args }) {\n  if (url.startsWith('/')) {\n    return (\n      <Link\n        variant={variant}\n        color=\"primary\"\n        { ...args }\n        to={url}\n        style={{ fontSize: 12 }}\n        component={RouteLink}\n      >\n        {title}\n      </Link>);\n  }\n  return (\n    <Link\n      variant={variant}\n      color=\"primary\"\n      { ...args }\n      target=\"_blank\"\n      href={url}\n      style={{ fontSize: 12 }}\n    >\n      {title}\n    </Link>);\n}\n\nTextLink.propTypes = {\n  url: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  variant: PropTypes.string,\n};\n\nexport default TextLink;\n","import React from 'react';\n\nimport TextLink from 'components/TextLink';\nimport { getCertificateLinkUrl } from 'utils/retrieve';\n\nexport const certificateLinkRender = (value) => {\n  const code = value.match(/\\d+/)[0];\n  return <TextLink url={getCertificateLinkUrl(code)} title={code} />;\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl } from 'utils/retrieve';\n\nimport { certificateLinkRender } from 'components/table/renders';\n\nexport default function SameFunctionPCItemsTable({ funcName, id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!funcName) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      setData(allItems.filter((x) => x['分類'] === funcName).sort(sortBy('最低自付差額')));\n    })();\n  }, [funcName]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => value === id ? '本頁產品' : '',\n      },\n    },\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        customBodyRender: certificateLinkRender,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.自付差額.最低',\n      label: '最低自付差額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '統計資料.自付差額.最高',\n      label: '最高自付差額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/item/${value}`} title=\"查看\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`相同功能分類：${funcName}`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nSameFunctionPCItemsTable.propTypes = {\n  funcName: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl } from 'utils/retrieve';\n\nexport default function MatchedAllOfferedPCItemsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額醫材對應健保全額給付品項');\n      setData(allItems.filter((x) => x['自付差額品項代碼'].includes(id)).sort(sortBy('支付點數', true)));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '名稱',\n      label: '名稱',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '藥商名稱',\n      label: '藥商名稱',\n    },\n    {\n      name: '支付點數',\n      label: '健保給付點數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`對應健保全額給付品項`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nMatchedAllOfferedPCItemsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DocumentTitle from 'react-document-title';\n\nimport retrieve, { getPCItemImageUrl, getPCItemDetails } from 'utils/retrieve';\nimport PCItemPricesInAllOrgsTable from 'components/PCItemPricesInAllOrgsTable';\nimport SameFunctionPCItemsTable from 'components/SameFunctionPCItemsTable';\nimport MatchedAllOfferedPCItemsTable from 'components/MatchedAllOfferedPCItemsTable';\nimport Statistics from 'components/Statistics';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    flex: 1,\n    padding: theme.spacing(4),\n  },\n  statisticsContainer: {\n    padding: theme.spacing(4),\n  },\n  space: {\n    height: theme.spacing(4),\n  },\n  img: {\n    width: '100%',\n  },\n}));\n\nexport default function Item({ id: inId, match }) {\n  const classes = useStyles();\n  const [id, setId] = useState();\n  const [item, setItem] = useState();\n  // const [category, setCategory] = useState();\n  const [subcategory, setSubcategory] = useState({});\n\n  useEffect(() => {\n    if (inId) {\n      setId(inId);\n    } else\n    if (match) {\n      const { params: { id } } = match;\n      setId(id);\n    }\n  }, [inId, match]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      const matched = allItems.find((x) => x['代碼'] === id);\n      if (!matched) {\n        // error?\n      }\n      console.log(matched);\n      setItem(matched);\n\n      const categories = (await retrieve('自付差額品項類別'));\n      categories.forEach((category) => {\n        if (category['名稱'] === matched['類別']) {\n          // setCategory(category);\n          category['子分類'].forEach((subcategory) => {\n            if (subcategory['自付差額品項功能分類'] === matched['分類']) {\n              console.log(subcategory);\n              setSubcategory(subcategory);\n            }\n          });\n        }\n      });\n\n      // get details\n      const details = await getPCItemDetails(id);\n      console.log(details);\n    })();\n  }, [id]);\n\n  if (!item) return null;\n\n  return (\n    <DocumentTitle title={`${item['中文']}`}>\n      <div>\n        <Paper>\n          <Grid container>\n            <Grid container item xs={12} sm={2} md={4} alignItems=\"center\" justify=\"center\" className={classes.container}>\n              <img src={getPCItemImageUrl(id)} alt=\"test\" className={classes.img}/>\n            </Grid>\n            <Grid item xs={12} sm={10} md={8} className={classes.container}>\n              <Typography variant=\"h5\" component=\"h1\">\n                {item['中文']}\n              </Typography>\n              <Typography variant=\"subtitle1\" component=\"h5\">\n                {item['英文']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                代碼：{item['代碼']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                {/* TODO: link */}\n                類別：{item['類別']} / {item['分類']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                許可證字號：{item['許可證字號']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                健保給付點數：{new Intl.NumberFormat().format(item['健保給付點數'])}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Paper>\n        <div className={classes.space} />\n        <Paper className={classes.statisticsContainer}>\n          <Statistics\n            data={item['統計資料']}\n            compareData={subcategory['統計資料']}\n          />\n        </Paper>\n        <div className={classes.space} />\n        <PCItemPricesInAllOrgsTable id={id}/>\n        <div className={classes.space} />\n        <SameFunctionPCItemsTable id={id} funcName={item['分類']} />\n        <div className={classes.space} />\n        <MatchedAllOfferedPCItemsTable id={id} />\n      </div>\n    </DocumentTitle>\n  );\n}\n\nItem.propTypes = {\n  id: PropTypes.string,\n  match: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\n\nimport retrieve, { getTextLinkHtml } from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\n\nexport default function NCItemsTable() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const records = await retrieve('全自費品項');\n      setData(records);\n    })();\n  }, []);\n\n  const columns = [\n    {\n      name: '手術及裝置',\n      label: '手術及裝置',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫材種類',\n      label: '醫材種類',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '未納入健保給付原因',\n      label: '未納入健保給付原因',\n      options: {\n        filter: true,\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '說明',\n      label: '說明',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自費額',\n      label: '最低自費額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自費額',\n      label: '最高自費額',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '醫療機構數',\n      label: '醫療機構數',\n      type: 'number',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"全自費品項清單\"\n      description={getTextLinkHtml('資料出處：健保署 民眾全自費品項收費情形', 'https://data.nhi.gov.tw/Datasets/DatasetDetail.aspx?id=662&Mid=A110734')}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nNCItemsTable.propTypes = {};\n","import Home from 'views/Home';\nimport PCItems from 'views/PCItems';\nimport PCItem from 'views/PCItem';\nimport NCItems from 'views/NCItems';\n\nexport default [\n  {\n    title: '首頁',\n    documentTitle: '', // use app name\n    path: '/',\n    exact: true,\n    component: Home,\n    // hideFromMenu: true,\n  },\n  {\n    title: '自付差額品項清單',\n    path: '/pcItems', // partially covered items\n    exact: true,\n    component: PCItems,\n    hideFromMenu: false,\n  },\n  {\n    title: '全自費品項清單',\n    path: '/ncItems', // non covered items\n    exact: true,\n    component: NCItems,\n    hideFromMenu: false,\n  },\n  {\n    title: '',\n    path: '/pcItem/:id',\n    exact: true,\n    component: PCItem,\n    hideFromMenu: true,\n  },\n].map((item) => {\n  item.documentTitle = item.documentTitle || item.title;\n  return item;\n});\n","import React from 'react';\n\nimport Container from '@material-ui/core/Container';\n\nimport PCItemsTriage from 'components/PCItemsTriage';\n// import Disclaimer from 'components/Disclaimer';\n\nexport default function Home() {\n  return (\n    <Container>\n      <PCItemsTriage />\n      {/* <Disclaimer /> */}\n    </Container>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport querystring from 'query-string';\n\nimport PCItemsTable from 'components/PCItemsTable';\n\nexport default function PCItems({ location }) {\n  return (\n    <div>\n      <PCItemsTable prefilters={querystring.parse(location.search, { arrayFormat: 'bracket' })}/>\n    </div>);\n}\n\nPCItems.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }),\n};\n","import React from 'react';\n\nimport NCItemsTable from 'components/NCItemsTable';\n\nexport default function NCItems() {\n  return (\n    <div>\n      <NCItemsTable />\n    </div>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nimport VisitButton from './VisitButton';\n\nfunction GithubLinkButton({ url, title = 'GitHub', className }) {\n  const githubUrl = url ?\n    (url.startsWith('https://github.com/') ? url : `https://github.com/${url}`) :\n    undefined;\n\n  return (\n    <VisitButton\n      className={className}\n      disabled={true}\n      url={githubUrl}\n      title={title}\n      icon={<GitHubIcon />}\n    />);\n}\n\nGithubLinkButton.propTypes = {\n  title: PropTypes.string,\n  url: PropTypes.string,\n  className: PropTypes.string,\n};\n\nexport default GithubLinkButton;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport moment from 'moment';\n\nimport routes from '../routes';\nimport cache from 'utils/cache';\nimport GithubLinkButton from 'components/GithubLinkButton';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {},\n  title: {\n    marginRight: theme.spacing(1),\n    cursor: 'pointer',\n  },\n  space: {\n    flexGrow: 1,\n  },\n  button: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n}));\n\nfunction Header() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [lastUpdatedAt, setLastUpdatedAt] = useState();\n\n  useEffect(() => {\n    (async () => {\n      setLastUpdatedAt(await cache.get('lastUpdatedAt'));\n    })();\n  }, []);\n\n  return (\n    <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n      <Toolbar variant=\"dense\">\n        <Typography variant=\"h6\" className={classes.title} onClick={() => history.push('/')}>\n          查查醫療品項\n        </Typography>\n        {routes.filter(({ hideFromMenu })=>!hideFromMenu).map(({ title, path }) => (\n          <Button to={path} key={title} component={Link}>\n            {title}\n          </Button>\n        ))}\n\n        <div className={classes.space}></div>\n\n        <GithubLinkButton\n          className={classes.button}\n          url='chunyenHuang/nhi-open-data-tool'\n        />\n\n        {lastUpdatedAt &&\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            資料更新於 {moment(lastUpdatedAt).fromNow()}\n          </Typography>}\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nHeader.propTypes = {};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport DocumentTitle from 'react-document-title';\n\nimport Header from 'components/Header';\nimport routes from './routes';\nimport retrieve from 'utils/retrieve';\nimport cache from 'utils/cache';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'flex',\n    padding: theme.spacing(4),\n  },\n  spinner: {\n    position: 'absolute',\n    top: 150,\n    left: 'calc(50% - 20px)',\n  },\n  container: {\n    paddingTop: 48,\n    flexGrow: 1,\n  },\n}));\n\nfunction App(props) {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      const { lastUpdatedAt } = await retrieve('report', { bypassCache: true });\n      const cacheLastUpdatedAt = await cache.get('lastUpdatedAt');\n      if (lastUpdatedAt !== cacheLastUpdatedAt) {\n        await cache.purge();\n      }\n      await cache.set('lastUpdatedAt', lastUpdatedAt);\n\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 500);\n    })();\n  }, []);\n\n  if (isLoading) {\n    return (<CircularProgress className={classes.spinner} />);\n  }\n\n  return (\n    <Container className={classes.main} maxWidth=\"xl\">\n      <Router basename={'/'}>\n        <React.Suspense fallback={<CircularProgress className={classes.spinner} />}>\n          <CssBaseline />\n          <Header />\n          <main className={classes.container}>\n            <Switch>\n              {routes.map((route) => (\n                <Route\n                  path={route.path}\n                  exact={route.exact}\n                  key={route.path}\n                  render={(props) => (\n                    <DocumentTitle title={`${route.documentTitle}`}>\n                      <route.component {...props} />\n                    </DocumentTitle>)\n                  }\n                />\n              ))}\n              <Redirect to=\"/\" />\n            </Switch>\n          </main>\n        </React.Suspense>\n      </Router>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}