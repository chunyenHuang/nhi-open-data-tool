{"version":3,"sources":["utils/cache.js","utils/retrieve.js","components/DataTable.js","components/VisitButton.js","utils/sorting.js","components/CellImage.js","components/ItemsTable.js","components/ItemPricesInAllOrgsTable.js","components/SameFunctionItemsTable.js","components/MatchedAllOfferedItemsTable.js","views/Item.js","routes.js","views/Home.js","components/GithubLinkButton.js","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["db","Dexie","version","stores","cache","TTLBaseline","Date","now","setTTLBaseline","value","get","key","a","table","where","toArray","length","expiredAt","data","set","getTime","add","update","id","API_URL","retrieve","path","options","bypassCache","endsWith","cacheKey","cachedData","fetch","res","json","output","getItemImageUrl","DataTable","title","columns","updatedOptions","Object","assign","enableNestedDataAccess","pagination","responsive","rowsPerPageOptions","rowsPerPage","filterType","fixedHeader","resizableColumns","selectableRows","print","download","downloadOptions","filename","separator","expandableRows","isRowExpandable","isRowSelectable","onRowClick","rowData","rowMeta","item","dataIndex","console","log","VisitButton","url","tooltip","icon","className","variant","target","isDisabled","startsWith","tooltipTitle","Tooltip","IconButton","disabled","aria-label","href","size","Button","color","to","component","Link","sortBy","inField","inReverse","b","val","naturalCompare","i","codeA","codeB","posA","posB","alphabet","String","getCode","str","pos","code","slice","indexOf","charAt","charCodeAt","useStyles","makeStyles","theme","img","maxHeight","maxWidth","CellImage","alt","classes","Grid","container","justify","align","src","ItemsTable","useState","setData","useEffect","records","sort","name","label","filter","customBodyRender","display","ItemPricesInAllOrgsTable","SameFunctionItemsTable","funcName","allItems","x","MatchedAllOfferedItemsTable","includes","flex","padding","spacing","space","height","width","exact","hideFromMenu","inId","match","setId","setItem","params","matched","find","Paper","xs","sm","md","alignItems","Typography","GithubLinkButton","githubUrl","undefined","appBar","marginRight","flexGrow","button","marginLeft","Header","lastUpdatedAt","setLastUpdatedAt","AppBar","position","Toolbar","routes","map","moment","fromNow","main","spinner","top","left","paddingTop","App","props","loading","setLoading","Container","basename","Suspense","fallback","CircularProgress","CssBaseline","route","render","Boolean","window","location","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ffc0c62d.chunk.js","sourcesContent":["import Dexie from 'dexie';\n\nconst db = new Dexie('nhi-open-data-tool');\ndb.version(1).stores({\n  cache: '++id,key',\n});\n\nlet TTLBaseline = Date.now();\nconst TTL = 6 * 3600 * 1000; // 6 hours\n\nexport default {\n  setTTLBaseline(value) {\n    TTLBaseline = value;\n  },\n  get: async (key) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    if (cache.length === 0) {\n      return;\n    }\n\n    if (!cache[0].expiredAt || cache[0].expiredAt < Date.now()) {\n      return;\n    }\n\n    return cache[0].data;\n  },\n\n  set: async (key, data) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    const expiredAt = new Date(TTLBaseline).getTime() + TTL;\n    if (cache.length === 0) {\n      await db.table('cache').add({ key, data, expiredAt });\n    } else {\n      await db.table('cache').update(cache[0].id, { key, data, expiredAt });\n    }\n  },\n};\n","import cache from './cache';\n\nconst API_URL = `https://raw.githubusercontent.com/chunyenHuang/nhi-open-data-tool/master/data/latest`;\n\nexport default async function retrieve(path, options = {}) {\n  const { bypassCache = false } = options;\n  path = path.endsWith('.json') ? path : `${path}.json`;\n  const cacheKey = `api:${path}`;\n  const cachedData = await cache.get(cacheKey);\n  if (!bypassCache && cachedData) {\n    return cachedData;\n  }\n\n  const res = await fetch(`${API_URL}/${path}`);\n  const output = await res.json();\n\n  await cache.set(cacheKey, output);\n\n  return output;\n}\n\nexport const getItemImageUrl = (id) => {\n  return `https://www.nhi.gov.tw/Query4Pic/${id}.jpg`;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from 'mui-datatables';\n\nexport default function DataTable({ title, data, columns, options }) {\n  const updatedOptions = Object.assign({\n    enableNestedDataAccess: '.',\n    pagination: true,\n    responsive: 'standard',\n    rowsPerPageOptions: [5, 10, 20, 50, 100],\n    rowsPerPage: 5,\n    filterType: 'dropdown',\n    fixedHeader: true,\n    resizableColumns: false,\n    selectableRows: 'none',\n    print: true,\n    download: true,\n    downloadOptions: {\n      filename: `${title}.csv`,\n      separator: ',',\n    },\n    expandableRows: false,\n    isRowExpandable: () => false,\n    isRowSelectable: () => false,\n    onRowClick: (rowData, rowMeta) => {\n      const item = data[rowMeta.dataIndex];\n      console.log(item);\n    },\n  }, options);\n\n  return (\n    <MUIDataTable\n      title={title}\n      data={data}\n      columns={columns}\n      options={updatedOptions}\n    />\n  );\n}\n\nDataTable.propTypes = {\n  title: PropTypes.string,\n  data: PropTypes.array,\n  columns: PropTypes.array,\n  options: PropTypes.object,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Link from 'react-router-dom/Link';\n\nfunction VisitButton({ url = '', title = 'Visit', tooltip, icon, className, variant = 'outlined', target = '_self' }) {\n  if (typeof url !== 'string') return null;\n\n  const isDisabled = (!url || url === '' || (!url.startsWith('http') && !url.startsWith('/')));\n  const size = 'small';\n\n  const tooltipTitle = tooltip || (isDisabled ? '' : title);\n\n  if (icon) {\n    return (\n      <Tooltip title={tooltipTitle}>\n        <span>\n          <IconButton\n            className={className}\n            disabled={isDisabled}\n            aria-label={title}\n            // component=\"span\"\n            target=\"_blank\"\n            href={url}\n            size={size}\n          >\n            {icon}\n          </IconButton>\n        </span>\n      </Tooltip>);\n  }\n  if (url.startsWith('/')) {\n    return (\n      <Button\n        className={className}\n        variant={variant}\n        color=\"primary\"\n        size={size}\n        to={url}\n        disabled={isDisabled}\n        component={Link}\n        target={target}\n      >\n        {title}\n      </Button>);\n  }\n  return (\n    <Button\n      className={className}\n      variant={variant}\n      color=\"primary\"\n      size={size}\n      target=\"_blank\"\n      href={url}\n      disabled={isDisabled}\n    >\n      {title}\n    </Button>);\n}\n\nVisitButton.propTypes = {\n  url: PropTypes.string,\n  title: PropTypes.string,\n  tooltip: PropTypes.string,\n  icon: PropTypes.object,\n  className: PropTypes.string,\n  variant: PropTypes.string,\n  target: PropTypes.string,\n};\n\nexport default VisitButton;\n","/**\n * sort array by field\n * @param {String} inField\n * @param {Boolean} inReverse\n * @return {Function};\n */\nexport function sortBy(inField, inReverse = false) {\n  return (a, b) => {\n    const val = (!inReverse) ? 1 : -1;\n    if ((a[inField] === b[inField])) return 0;\n    return val * naturalCompare(a[inField], b[inField]);\n  };\n}\n\n/* eslint-disable */\n/* beautify ignore:start */\n// https://github.com/litejs/natural-compare-lite/blob/master/index.js\nvar naturalCompare = function(a, b) {\n\tvar i, codeA\n\t, codeB = 1\n\t, posA = 0\n\t, posB = 0\n\t, alphabet = String.alphabet\n\n\tfunction getCode(str, pos, code) {\n\t\tif (code) {\n\t\t\tfor (i = pos; code = getCode(str, i), code < 76 && code > 65;) ++i;\n\t\t\treturn +str.slice(pos - 1, i)\n\t\t}\n\t\tcode = alphabet && alphabet.indexOf(str.charAt(pos))\n\t\treturn code > -1 ? code + 76 : ((code = str.charCodeAt(pos) || 0), code < 45 || code > 127) ? code\n\t\t\t: code < 46 ? 65               // -\n\t\t\t: code < 48 ? code - 1\n\t\t\t: code < 58 ? code + 18        // 0-9\n\t\t\t: code < 65 ? code - 11\n\t\t\t: code < 91 ? code + 11        // A-Z\n\t\t\t: code < 97 ? code - 37\n\t\t\t: code < 123 ? code + 5        // a-z\n\t\t\t: code - 63\n\t}\n\n\tif ((a+=\"\") != (b+=\"\")) for (;codeB;) {\n\t\tcodeA = getCode(a, posA++)\n\t\tcodeB = getCode(b, posB++)\n\n\t\tif (codeA < 76 && codeB < 76 && codeA > 66 && codeB > 66) {\n\t\t\tcodeA = getCode(a, posA, posA)\n\t\t\tcodeB = getCode(b, posB, posA = i)\n\t\t\tposB = i\n\t\t}\n\n\t\tif (codeA != codeB) return (codeA < codeB) ? -1 : 1\n\t}\n\treturn 0\n}\n/* beautify ignore:end */\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  img: {\n    maxHeight: 100,\n    maxWidth: '100%',\n  },\n}));\n\nfunction CellImage({ value = '', alt = '-' }) {\n  const classes = useStyles();\n  return (\n    <Grid container justify=\"center\" align=\"center\">\n      {value && <img src={value} alt={alt} className={classes.img}/>}\n    </Grid>);\n}\n\nCellImage.propTypes = {\n  value: PropTypes.string,\n  alt: PropTypes.string,\n};\n\nexport default CellImage;\n","import React, { useState, useEffect } from 'react';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getItemImageUrl } from 'utils/retrieve';\n\nexport default function ItemsTable() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const records = await retrieve('自付差額品項');\n      setData(records.sort(sortBy('中文')).sort(sortBy('分類')).sort(sortBy('類別')));\n    })();\n  }, []);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '類別',\n      label: '類別',\n    },\n    {\n      name: '分類',\n      label: '分類',\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自付差額',\n      label: '最低自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自付差額',\n      label: '最高自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/item/${value}`} title=\"查看\" target=\"_blank\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"全部自付差額醫療特材\"\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nItemsTable.propTypes = {};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\n\nexport default function ItemPricesInAllOrgsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const records = await retrieve(`自付差額品項收費/品項代碼/${id}`);\n      if (!records[0]) return;\n      setData(records.sort(sortBy('特約院所收費')));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '分區業務組',\n      label: '分區業務組',\n      options: {\n        display: false,\n      },\n    },\n    {\n      name: '就醫院所縣市別',\n      label: '地區',\n    },\n    {\n      name: '特約類別',\n      label: '特約類別',\n    },\n    {\n      name: '醫事機構名稱',\n      label: '醫事機構名稱',\n    },\n    {\n      name: '醫事機構簡稱',\n      label: '醫事機構簡稱',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '醫事機構代碼',\n      label: '醫事機構代碼',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '特約院所收費',\n      label: '自付差額',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"各地區機構特材收費\"\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nItemPricesInAllOrgsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getItemImageUrl } from 'utils/retrieve';\n\nexport default function SameFunctionItemsTable({ funcName, id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!funcName) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      setData(allItems.filter((x) => x['分類'] === funcName).sort(sortBy('最低自付差額')));\n    })();\n  }, [funcName]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => value === id ? '本頁產品' : '',\n      },\n    },\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自付差額',\n      label: '最低自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自付差額',\n      label: '最高自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/item/${value}`} title=\"查看\" target=\"_blank\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`相同功能分類：${funcName}`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nSameFunctionItemsTable.propTypes = {\n  funcName: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getItemImageUrl } from 'utils/retrieve';\n\nexport default function MatchedAllOfferedItemsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額醫材對應健保全額給付品項');\n      setData(allItems.filter((x) => x['自付差額品項代碼'].includes(id)).sort(sortBy('支付點數', true)));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '名稱',\n      label: '名稱',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '藥商名稱',\n      label: '藥商名稱',\n    },\n    {\n      name: '支付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`對應健保全額給付品項`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nMatchedAllOfferedItemsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DocumentTitle from 'react-document-title';\n\nimport retrieve, { getItemImageUrl } from 'utils/retrieve';\nimport ItemPricesInAllOrgsTable from 'components/ItemPricesInAllOrgsTable';\nimport SameFunctionItemsTable from 'components/SameFunctionItemsTable';\nimport MatchedAllOfferedItemsTable from 'components/MatchedAllOfferedItemsTable';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    flex: 1,\n    padding: theme.spacing(4),\n  },\n  space: {\n    height: theme.spacing(4),\n  },\n  img: {\n    width: '100%',\n  },\n}));\n\nexport default function Item({ id: inId, match }) {\n  const classes = useStyles();\n  const [id, setId] = useState();\n  const [item, setItem] = useState();\n\n  useEffect(() => {\n    if (inId) {\n      setId(inId);\n    } else\n    if (match) {\n      const { params: { id } } = match;\n      setId(id);\n    }\n  }, [inId, match]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      const matched = allItems.find((x) => x['代碼'] === id);\n      if (!matched) {\n        // error?\n      }\n      console.log(matched);\n      setItem(matched);\n    })();\n  }, [id]);\n\n  if (!item) return null;\n\n  return (\n    <DocumentTitle title={`${item['中文']}`}>\n      <div>\n        <Paper>\n          <Grid container>\n            <Grid container item xs={12} sm={2} md={4} alignItems=\"center\" justify=\"center\" className={classes.container}>\n              <img src={getItemImageUrl(id)} alt=\"test\" className={classes.img}/>\n            </Grid>\n            <Grid item xs={12} sm={10} md={8} className={classes.container}>\n              <Typography variant=\"h5\" component=\"h1\">\n                {item['中文']}\n              </Typography>\n              <Typography variant=\"subtitle1\" component=\"h5\">\n                {item['英文']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                代碼：{item['代碼']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                {/* TODO: link */}\n                類別：{item['類別']} / {item['分類']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                許可證字號：{item['許可證字號']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                健保給付點數：{item['健保給付點數']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                自付差額範圍：{item['最低自付差額']} - {item['最高自付差額']}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Paper>\n        <div className={classes.space} />\n        <ItemPricesInAllOrgsTable id={id}/>\n        <div className={classes.space} />\n        <SameFunctionItemsTable id={id} funcName={item['分類']} />\n        <div className={classes.space} />\n        <MatchedAllOfferedItemsTable id={id} />\n      </div>\n    </DocumentTitle>\n  );\n}\n\nItem.propTypes = {\n  id: PropTypes.string,\n  match: PropTypes.object,\n};\n","import Home from 'views/Home';\nimport Item from 'views/Item';\n\nexport default [\n  {\n    title: '首頁',\n    path: '/',\n    exact: true,\n    component: Home,\n    hideFromMenu: false,\n  },\n  // {\n  //   title: '首頁',\n  //   path: '/',\n  //   exact: true,\n  //   component: Home,\n  //   hideFromMenu: false,\n  // },\n  {\n    title: '',\n    path: '/item/:id',\n    exact: true,\n    component: Item,\n    hideFromMenu: true,\n  },\n];\n","import React from 'react';\n\nimport ItemsTable from 'components/ItemsTable';\n\nexport default function Home() {\n  return (\n    <div>\n      <ItemsTable />\n    </div>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nimport VisitButton from './VisitButton';\n\nfunction GithubLinkButton({ url, title = 'GitHub', className }) {\n  const githubUrl = url ?\n    (url.startsWith('https://github.com/') ? url : `https://github.com/${url}`) :\n    undefined;\n\n  return (\n    <VisitButton\n      className={className}\n      disabled={true}\n      url={githubUrl}\n      title={title}\n      icon={<GitHubIcon />}\n    />);\n}\n\nGithubLinkButton.propTypes = {\n  title: PropTypes.string,\n  url: PropTypes.string,\n  className: PropTypes.string,\n};\n\nexport default GithubLinkButton;\n","import React, { useState, useEffect } from 'react';\nimport Link from 'react-router-dom/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport moment from 'moment';\n\nimport routes from '../routes';\nimport cache from 'utils/cache';\nimport GithubLinkButton from 'components/GithubLinkButton';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {},\n  title: {\n    marginRight: theme.spacing(1),\n  },\n  space: {\n    flexGrow: 1,\n  },\n  button: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n}));\n\nfunction Header() {\n  const classes = useStyles();\n\n  const [lastUpdatedAt, setLastUpdatedAt] = useState();\n\n  useEffect(() => {\n    (async () => {\n      setLastUpdatedAt(await cache.get('lastUpdatedAt'));\n    })();\n  }, []);\n\n  return (\n    <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n      <Toolbar variant=\"dense\">\n        <Typography variant=\"h6\" className={classes.title}>\n          查自付差額醫療特材\n        </Typography>\n        {routes.filter(({ hideFromMenu })=>!hideFromMenu).map(({ title, path }) => (\n          <Button to={path} key={title} component={Link}>\n            {title}\n          </Button>\n        ))}\n\n        <div className={classes.space}></div>\n\n        <GithubLinkButton\n          className={classes.button}\n          url='chunyenHuang/nhi-open-data-tool'\n        />\n\n        {lastUpdatedAt &&\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            資料更新於 {moment(lastUpdatedAt).fromNow()}\n          </Typography>}\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nHeader.propTypes = {};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport DocumentTitle from 'react-document-title';\n\nimport Header from 'components/Header';\nimport routes from './routes';\nimport retrieve from 'utils/retrieve';\nimport cache from 'utils/cache';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'flex',\n    padding: theme.spacing(4),\n  },\n  spinner: {\n    position: 'absolute',\n    top: 150,\n    left: 'calc(50% - 20px)',\n  },\n  container: {\n    paddingTop: 48,\n    flexGrow: 1,\n  },\n}));\n\nfunction App(props) {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      const { lastUpdatedAt } = await retrieve('report', { bypassCache: true });\n      cache.setTTLBaseline(lastUpdatedAt);\n      await cache.set('lastUpdatedAt', lastUpdatedAt);\n      setLoading(true);\n    })();\n  }, []);\n\n  return (\n    <Container className={classes.main}>\n      <Router basename={'/'}>\n        <React.Suspense fallback={<CircularProgress className={classes.spinner} />}>\n          <CssBaseline />\n\n          <Header />\n\n          {!loading && <CircularProgress className={classes.spinner} />}\n\n          {loading &&\n            <main className={classes.container}>\n              <Switch>\n                {routes.map((route) => (\n                  <Route\n                    path={route.path}\n                    exact={route.exact}\n                    key={route.path}\n                    render={(props) => (\n                      <DocumentTitle title={`${route.title}`}>\n                        <route.component {...props} />\n                      </DocumentTitle>)\n                    }\n                  />\n                ))}\n                <Redirect to=\"/\" />\n              </Switch>\n            </main>}\n        </React.Suspense>\n      </Router>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}