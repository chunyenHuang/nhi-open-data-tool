{"version":3,"sources":["utils/cache.js","utils/retrieve.js","components/VisitButton.js","components/PCItemsTriageCategoryItem.js","components/PCItemsTriage.js","components/TableFooter.js","components/DataTable.js","utils/sorting.js","components/CellImage.js","components/PCItemsTable.js","components/PCItemPricesInAllOrgsTable.js","components/TextLink.js","components/table/renders.js","components/SameFunctionPCItemsTable.js","components/MatchedAllOfferedPCItemsTable.js","views/PCItem.js","components/NCItemsTable.js","routes.js","views/Home.js","views/PCItems.js","views/NCItems.js","components/GithubLinkButton.js","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["db","Dexie","version","stores","cache","purge","a","delete","open","get","key","table","where","toArray","length","expiredAt","Date","now","data","set","add","update","id","API_URL","retrieve","path","options","bypassCache","endsWith","cacheKey","cachedData","fetch","res","json","output","console","log","getPCItemImageUrl","getTextLinkHtml","label","url","getCertificateLinkUrl","code","getPCItemDetails","VisitButton","title","tooltip","icon","className","variant","target","size","isDisabled","startsWith","tooltipTitle","Tooltip","IconButton","disabled","aria-label","href","Button","color","to","component","Link","useStyles","makeStyles","theme","categoryButton","margin","spacing","card","padding","marginBottom","flex","PCItemsTriageCategoryItem","categoryName","subcategories","classes","Card","CardContent","Typography","gutterBottom","CardActions","map","item","index","split","subtext","i","filter","num","root","flexGrow","container","display","tabContainer","width","tabs","borderRight","palette","divider","minWidth","TabPanel","props","children","value","other","role","hidden","aria-labelledby","Box","p","PCItemsTriage","useState","categories","setCategories","setSubcategories","React","setValue","useEffect","Promise","all","results","Tabs","orientation","onChange","event","newValue","name","Tab","aria-controls","CustomFooter","handleRowChange","changeRowsPerPage","handlePageChange","_","page","changePage","this","description","count","textLabels","rowsPerPage","TableFooter","TableRow","TableCell","dangerouslySetInnerHTML","__html","style","justifyContent","colSpan","labelRowsPerPage","labelDisplayedRows","from","displayRows","backIconButtonProps","previous","nextIconButtonProps","next","rowsPerPageOptions","onChangePage","onChangeRowsPerPage","Component","withStyles","DataTable","columns","updatedOptions","Object","assign","enableNestedDataAccess","pagination","responsive","filterType","fixedHeader","resizableColumns","selectableRows","print","download","downloadOptions","filename","separator","expandableRows","isRowExpandable","isRowSelectable","onRowClick","rowData","rowMeta","dataIndex","body","noMatch","toolTip","columnHeaderTooltip","column","toolbar","search","downloadCsv","viewColumns","filterTable","reset","titleAria","customFooter","sortBy","inField","inReverse","b","val","naturalCompare","codeA","codeB","posA","posB","alphabet","String","getCode","str","pos","slice","indexOf","charAt","charCodeAt","img","maxHeight","maxWidth","CellImage","alt","Grid","justify","align","src","PCItemsTable","prefilters","setData","records","sort","customBodyRender","filterList","filterOptions","fullWidth","PCItemPricesInAllOrgsTable","TextLink","args","fontSize","RouteLink","certificateLinkRender","match","SameFunctionPCItemsTable","funcName","allItems","x","MatchedAllOfferedPCItemsTable","includes","space","height","NCItemsTable","documentTitle","exact","Container","location","querystring","parse","arrayFormat","hideFromMenu","inId","setId","setItem","params","matched","find","details","Paper","xs","sm","md","alignItems","GithubLinkButton","githubUrl","undefined","appBar","marginRight","cursor","button","marginLeft","Header","history","useHistory","lastUpdatedAt","setLastUpdatedAt","AppBar","position","Toolbar","onClick","push","routes","moment","fromNow","main","spinner","top","left","paddingTop","App","isLoading","setIsLoading","cacheLastUpdatedAt","setTimeout","CircularProgress","basename","Suspense","fallback","CssBaseline","route","render","Boolean","window","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.d38fee7c.chunk.js","sourcesContent":["import Dexie from 'dexie';\n\nconst db = new Dexie('nhi-open-data-tool');\ndb.version(1).stores({\n  cache: '++id,key',\n});\n\nconst TTL = 6 * 3600 * 1000; // 6 hours\n\nexport default {\n  purge: async () => {\n    // https://github.com/dfahlander/Dexie.js/issues/521#issuecomment-298136079\n    await db.delete();\n    await db.open();\n  },\n\n  get: async (key) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    if (cache.length === 0) {\n      return;\n    }\n\n    if (!cache[0].expiredAt || cache[0].expiredAt < Date.now()) {\n      return;\n    }\n\n    return cache[0].data;\n  },\n\n  set: async (key, data) => {\n    const cache = await db.table('cache').where({ key }).toArray();\n    const expiredAt = Date.now() + TTL;\n    if (cache.length === 0) {\n      await db.table('cache').add({ key, data, expiredAt });\n    } else {\n      await db.table('cache').update(cache[0].id, { key, data, expiredAt });\n    }\n  },\n};\n","import cache from './cache';\n\nconst API_URL = `https://raw.githubusercontent.com/chunyenHuang/nhi-open-data-tool/master/data/latest`;\n\nexport default async function retrieve(path, options = {}) {\n  const { bypassCache = false } = options;\n  path = path.endsWith('.json') ? path : `${path}.json`;\n  const cacheKey = `api:${path}`;\n  const cachedData = await cache.get(cacheKey);\n  if (!bypassCache && cachedData) {\n    return cachedData;\n  }\n\n  const res = await fetch(`${API_URL}/${path}`);\n  const output = await res.json();\n\n  console.log(output);\n\n  await cache.set(cacheKey, output);\n\n  return output;\n}\n\nexport const getPCItemImageUrl = (id) => {\n  return `https://www.nhi.gov.tw/Query4Pic/${id}.jpg`;\n};\n\nexport const getTextLinkHtml = (label, url) => {\n  return `<a href=\"${url}\" rel=\"noopener\" target=\"_blank\" style=\"none;\">${label}</a>`;\n};\n\nexport const getCertificateLinkUrl = (code) => {\n  return `http://www.fda.gov.tw/MLMS/H0001D.aspx?Type=Lic&LicId=06${code}`;\n};\n\nexport const getPCItemDetails = async (id) => {\n  const url = `http://www.nhi.gov.tw/QueryN/Query4.aspx?n=B2A92523DCC12607&sms=36A0BB334ECB4011&topn=3185A4DF68749BA9&upn=219B112AF4D47148&ctl00%24ContentPlaceHolder1%24tbxQ4ID=${id}`;\n  console.log(url);\n\n  const res = await fetch(url);\n  console.log(res);\n  const output = await res.json();\n\n  return output;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { Link } from 'react-router-dom';\n\nfunction VisitButton({ url = '', title = 'Visit', tooltip, icon, className, variant = 'outlined', target = '_self', size = 'small' }) {\n  if (typeof url !== 'string') return null;\n\n  const isDisabled = (!url || url === '' || (!url.startsWith('http') && !url.startsWith('/')));\n\n  const tooltipTitle = tooltip || (isDisabled ? '' : title);\n\n  if (icon) {\n    return (\n      <Tooltip title={tooltipTitle}>\n        <span>\n          <IconButton\n            className={className}\n            disabled={isDisabled}\n            aria-label={title}\n            // component=\"span\"\n            target=\"_self\"\n            href={url}\n            size={size}\n          >\n            {icon}\n          </IconButton>\n        </span>\n      </Tooltip>);\n  }\n  if (url.startsWith('/')) {\n    return (\n      <Button\n        className={className}\n        variant={variant}\n        color=\"primary\"\n        size={size}\n        to={url}\n        disabled={isDisabled}\n        component={Link}\n        target={target}\n      >\n        {title}\n      </Button>);\n  }\n  return (\n    <Button\n      className={className}\n      variant={variant}\n      color=\"primary\"\n      size={size}\n      target=\"_self\"\n      href={url}\n      disabled={isDisabled}\n    >\n      {title}\n    </Button>);\n}\n\nVisitButton.propTypes = {\n  url: PropTypes.string,\n  title: PropTypes.string,\n  tooltip: PropTypes.string,\n  icon: PropTypes.object,\n  className: PropTypes.string,\n  variant: PropTypes.string,\n  target: PropTypes.string,\n};\n\nexport default VisitButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\n\nimport VisitButton from 'components/VisitButton';\n\nconst useStyles = makeStyles((theme) => ({\n  categoryButton: {\n    margin: theme.spacing(2),\n  },\n  card: {\n    padding: theme.spacing(1),\n    // marginLeft: theme.spacing(4),\n    marginBottom: theme.spacing(2),\n  },\n  flex: {\n    flex: 1,\n  },\n}));\n\nexport default function PCItemsTriageCategoryItem({ categoryName, subcategories = [] }) {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Card className={classes.card}>\n        <CardContent>\n          <Typography gutterBottom variant=\"h6\" component=\"h1\">\n            {categoryName}\n          </Typography>\n          {/* TODO: 佔率資訊 分布資訊 價位資訊 */}\n        </CardContent>\n        <CardActions>\n          <Button size=\"small\" color=\"default\">\n            共有{subcategories.length}個子分類\n          </Button>\n          <div className={classes.flex} />\n          <VisitButton\n            // className={classes.categoryButton}\n            title={'查看此類別所有醫材'}\n            size=\"small\"\n            url={`/pcItems?類別[]=${categoryName}`}\n          />\n        </CardActions>\n      </Card>\n      {subcategories.map((item, index)=>(\n        <Card className={classes.card} key={index}>\n          <CardContent>\n            <Typography gutterBottom variant=\"subtitle1\" component=\"p\">\n              {item['自付差額品項功能分類']}\n            </Typography>\n            {item['自付差額品項功能分類說明'].split('\\n').map((subtext, i) => (\n              <Typography key={i} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {subtext}\n              </Typography>\n            ))}\n          </CardContent>\n          <CardActions>\n            {['一', '二', '三', '四', '五'].filter((num) => item[`功能${num}`] && item[`功能${num}`] !== '無').map((num)=>(\n              <Button key={num} size=\"small\" color=\"secondary\">\n                {item[`功能${num}`]}\n              </Button>\n            ))}\n            <div className={classes.flex} />\n            <VisitButton\n              // className={classes.categoryButton}\n              title={'查看此子類別相關醫材'}\n              size=\"small\"\n              url={`/pcItems?類別[]=${categoryName}&分類[]=${item['自付差額品項功能分類']}`}\n            />\n          </CardActions>\n        </Card>\n      ))}\n    </div>);\n}\n\nPCItemsTriageCategoryItem.propTypes = {\n  categoryName: PropTypes.string.isRequired,\n  subcategories: PropTypes.array.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport retrieve from 'utils/retrieve';\nimport PCItemsTriageCategoryItem from 'components/PCItemsTriageCategoryItem';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    // backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    // height: 224,\n  },\n  tabContainer: {\n    width: '100%',\n    // height: 600,\n    // overflow: 'scroll',\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n    minWidth: 250,\n  },\n}));\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`vertical-tabpanel-${index}`}\n      aria-labelledby={`vertical-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\n\nexport default function PCItemsTriage() {\n  const classes = useStyles();\n\n  const [categories, setCategories] = useState([]);\n  const [subcategories, setSubcategories] = useState([]);\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const results = await Promise.all([\n        retrieve('自付差額品項類別'),\n        retrieve('自付差額特材功能分類'),\n      ]);\n      setCategories(results[0]);\n      setSubcategories(results[1]);\n    })();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h5\" component=\"h1\">\n        請問有哪些健保給付的醫療特材類別，我可以“自付差額”來選用其他的品項？\n      </Typography>\n\n      <div className={classes.container}>\n        <Tabs\n          orientation=\"vertical\"\n          variant=\"scrollable\"\n          value={value}\n          onChange={handleChange}\n          aria-label=\"自付差額分類\"\n          className={classes.tabs}\n        >\n          {categories.map((name, index)=>(\n            <Tab label={name} key={index} id={`vertical-tab-${index}`} aria-controls={`vertical-tabpanel-${index}`} />\n          ))}\n        </Tabs>\n        <div className={classes.tabContainer}>\n          {categories.map((name, index)=>(\n            <TabPanel value={value} index={index} key={index}>\n              <PCItemsTriageCategoryItem\n                categoryName={name}\n                subcategories={subcategories.filter((item) => item['自付差額品項類別'] === name)}\n              />\n            </TabPanel>\n          ))}\n        </div>\n      </div>\n\n\n      {/* <Typography variant=\"h5\" component=\"h6\">\n        小明想使用不同於健保給付的品項(ex: 維州-豪雅預載式單片型人工水晶體)，想選用 \"博士倫\"優視非球面人工水晶體:非球面軟式人工水晶體\n      </Typography> */}\n    </div>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TableFooter from '@material-ui/core/TableFooter';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport MuiTablePagination from '@material-ui/core/TablePagination';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst defaultFooterStyles = {};\n\nclass CustomFooter extends React.Component {\n  handleRowChange = (event) => {\n    this.props.changeRowsPerPage(event.target.value); // eslint-disable-line no-invalid-this\n  };\n\n  handlePageChange = (_, page) => {\n    this.props.changePage(page); // eslint-disable-line no-invalid-this\n  };\n\n  render() {\n    const { description = '', count, textLabels, rowsPerPage, page } = this.props;\n\n    const footerStyle = {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      padding: '0px 24px 0px 24px',\n    };\n\n    return (\n      <TableFooter>\n        <TableRow>\n          <TableCell>\n            <div dangerouslySetInnerHTML={{ __html: description }} />\n          </TableCell>\n          <TableCell style={footerStyle} colSpan={1000}>\n            <MuiTablePagination\n              component='div'\n              count={count}\n              rowsPerPage={rowsPerPage}\n              page={page}\n              labelRowsPerPage={textLabels.rowsPerPage}\n              labelDisplayedRows={({ from, to, count }) => `${from}-${to} ${textLabels.displayRows} ${count}`}\n              backIconButtonProps={{\n                'aria-label': textLabels.previous,\n              }}\n              nextIconButtonProps={{\n                'aria-label': textLabels.next,\n              }}\n              rowsPerPageOptions={[10, 20, 100]}\n              onChangePage={this.handlePageChange}\n              onChangeRowsPerPage={this.handleRowChange}\n            />\n          </TableCell>\n        </TableRow>\n      </TableFooter>\n    );\n  }\n}\n\nCustomFooter.propTypes = {\n  description: PropTypes.string,\n  count: PropTypes.any,\n  classes: PropTypes.any,\n  textLabels: PropTypes.any,\n  rowsPerPage: PropTypes.any,\n  page: PropTypes.any,\n  changeRowsPerPage: PropTypes.func,\n  changePage: PropTypes.func,\n};\n\nexport default withStyles(defaultFooterStyles, { name: 'CustomFooter' })(CustomFooter);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MUIDataTable from 'mui-datatables';\n\nimport TableFooter from './TableFooter';\n\nexport default function DataTable({ title, description, data, columns, options }) {\n  const updatedOptions = Object.assign({\n    enableNestedDataAccess: '.',\n    pagination: true,\n    responsive: 'standard',\n    rowsPerPageOptions: [10, 20, 50, 100],\n    rowsPerPage: 10,\n    filterType: 'multiselect',\n    fixedHeader: true,\n    resizableColumns: false,\n    selectableRows: 'none',\n    print: true,\n    download: true,\n    downloadOptions: {\n      filename: `${title}.csv`,\n      separator: ',',\n    },\n    expandableRows: false,\n    isRowExpandable: () => false,\n    isRowSelectable: () => false,\n    onRowClick: (rowData, rowMeta) => {\n      const item = data[rowMeta.dataIndex];\n      console.log(item);\n    },\n    textLabels: {\n      body: {\n        noMatch: '抱歉，找不到相關資料',\n        toolTip: '排序',\n        columnHeaderTooltip: (column) => `使用[${column.label}]排序`,\n      },\n      pagination: {\n        next: '下一頁',\n        previous: '上一頁',\n        rowsPerPage: '每頁顯示',\n        displayRows: '總項目數',\n      },\n      toolbar: {\n        search: '搜尋',\n        downloadCsv: '下載 CSV',\n        print: '列印',\n        viewColumns: '顯示欄位',\n        filterTable: '篩選數據',\n      },\n      filter: {\n        all: '全部',\n        title: '篩選數據',\n        reset: '重設',\n      },\n      viewColumns: {\n        title: '欄位',\n        titleAria: '顯示/隱藏欄位',\n      },\n      // selectedRows: {\n      //   text: 'row(s) selected',\n      //   delete: 'Delete',\n      //   deleteAria: 'Delete Selected Rows',\n      // },\n    },\n    customFooter: (count, page, rowsPerPage, changeRowsPerPage, changePage, textLabels) => {\n      return (\n        <TableFooter\n          description={description}\n          count={count}\n          page={page}\n          rowsPerPage={rowsPerPage}\n          changeRowsPerPage={changeRowsPerPage}\n          changePage={changePage}\n          textLabels={textLabels} />\n      );\n    },\n  }, options);\n\n  return (\n    <MUIDataTable\n      title={title}\n      data={data}\n      columns={columns}\n      options={updatedOptions}\n    />\n  );\n}\n\nDataTable.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.string,\n  data: PropTypes.array,\n  columns: PropTypes.array,\n  options: PropTypes.object,\n};\n","/**\n * sort array by field\n * @param {String} inField\n * @param {Boolean} inReverse\n * @return {Function};\n */\nexport function sortBy(inField, inReverse = false) {\n  return (a, b) => {\n    const val = (!inReverse) ? 1 : -1;\n    if ((a[inField] === b[inField])) return 0;\n    return val * naturalCompare(a[inField], b[inField]);\n  };\n}\n\n/* eslint-disable */\n/* beautify ignore:start */\n// https://github.com/litejs/natural-compare-lite/blob/master/index.js\nvar naturalCompare = function(a, b) {\n\tvar i, codeA\n\t, codeB = 1\n\t, posA = 0\n\t, posB = 0\n\t, alphabet = String.alphabet\n\n\tfunction getCode(str, pos, code) {\n\t\tif (code) {\n\t\t\tfor (i = pos; code = getCode(str, i), code < 76 && code > 65;) ++i;\n\t\t\treturn +str.slice(pos - 1, i)\n\t\t}\n\t\tcode = alphabet && alphabet.indexOf(str.charAt(pos))\n\t\treturn code > -1 ? code + 76 : ((code = str.charCodeAt(pos) || 0), code < 45 || code > 127) ? code\n\t\t\t: code < 46 ? 65               // -\n\t\t\t: code < 48 ? code - 1\n\t\t\t: code < 58 ? code + 18        // 0-9\n\t\t\t: code < 65 ? code - 11\n\t\t\t: code < 91 ? code + 11        // A-Z\n\t\t\t: code < 97 ? code - 37\n\t\t\t: code < 123 ? code + 5        // a-z\n\t\t\t: code - 63\n\t}\n\n\tif ((a+=\"\") != (b+=\"\")) for (;codeB;) {\n\t\tcodeA = getCode(a, posA++)\n\t\tcodeB = getCode(b, posB++)\n\n\t\tif (codeA < 76 && codeB < 76 && codeA > 66 && codeB > 66) {\n\t\t\tcodeA = getCode(a, posA, posA)\n\t\t\tcodeB = getCode(b, posB, posA = i)\n\t\t\tposB = i\n\t\t}\n\n\t\tif (codeA != codeB) return (codeA < codeB) ? -1 : 1\n\t}\n\treturn 0\n}\n/* beautify ignore:end */\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  img: {\n    maxHeight: 100,\n    maxWidth: '100%',\n  },\n}));\n\nfunction CellImage({ value = '', alt = '-' }) {\n  const classes = useStyles();\n  return (\n    <Grid container justify=\"center\" align=\"center\">\n      {value && <img src={value} alt={alt} className={classes.img}/>}\n    </Grid>);\n}\n\nCellImage.propTypes = {\n  value: PropTypes.string,\n  alt: PropTypes.string,\n};\n\nexport default CellImage;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl, getTextLinkHtml } from 'utils/retrieve';\n\nexport default function PCItemsTable({ prefilters = {} }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const records = await retrieve('自付差額品項');\n      setData(records.sort(sortBy('中文')).sort(sortBy('分類')).sort(sortBy('類別')));\n    })();\n  }, []);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '類別',\n      label: '類別',\n      options: {\n        filterList: prefilters['類別'] || [],\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '分類',\n      label: '分類',\n      options: {\n        filterList: prefilters['分類'] || [],\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自付差額',\n      label: '最低自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自付差額',\n      label: '最高自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '醫療機構數',\n      label: '醫療機構數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/pcItem/${value}`} title=\"查看\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"自付差額醫療特材清單\"\n      description={getTextLinkHtml('資料出處：健保署 民眾自付差額品項收費情形', 'https://data.nhi.gov.tw/Datasets/DatasetDetail.aspx?id=663&Mid=A110734')}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nPCItemsTable.propTypes = {\n  prefilters: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\n\nexport default function PCItemPricesInAllOrgsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const records = await retrieve(`自付差額品項收費/品項代碼/${id}`);\n      if (!records[0]) return;\n      setData(records.sort(sortBy('特約院所收費')));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '分區業務組',\n      label: '分區業務組',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '就醫院所縣市別',\n      label: '地區',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '特約類別',\n      label: '特約類別',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫事機構名稱',\n      label: '醫事機構名稱',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫事機構簡稱',\n      label: '醫事機構簡稱',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '醫事機構代碼',\n      label: '醫事機構代碼',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '特約院所收費',\n      label: '自付差額',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"各地區機構特材收費\"\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nPCItemPricesInAllOrgsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Link from '@material-ui/core/Link';\nimport { Link as RouteLink } from 'react-router-dom';\n\nfunction TextLink({ url, title = 'link', variant = 'body2', ...args }) {\n  if (url.startsWith('/')) {\n    return (\n      <Link\n        variant={variant}\n        color=\"primary\"\n        { ...args }\n        to={url}\n        style={{ fontSize: 12 }}\n        component={RouteLink}\n      >\n        {title}\n      </Link>);\n  }\n  return (\n    <Link\n      variant={variant}\n      color=\"primary\"\n      { ...args }\n      target=\"_blank\"\n      href={url}\n      style={{ fontSize: 12 }}\n    >\n      {title}\n    </Link>);\n}\n\nTextLink.propTypes = {\n  url: PropTypes.string.isRequired,\n  title: PropTypes.string,\n  variant: PropTypes.string,\n};\n\nexport default TextLink;\n","import React from 'react';\n\nimport TextLink from 'components/TextLink';\nimport { getCertificateLinkUrl } from 'utils/retrieve';\n\nexport const certificateLinkRender = (value) => {\n  const code = value.match(/\\d+/)[0];\n  return <TextLink url={getCertificateLinkUrl(code)} title={code} />;\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport VisitButton from 'components/VisitButton';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl } from 'utils/retrieve';\n\nimport { certificateLinkRender } from 'components/table/renders';\n\nexport default function SameFunctionPCItemsTable({ funcName, id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!funcName) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      setData(allItems.filter((x) => x['分類'] === funcName).sort(sortBy('最低自付差額')));\n    })();\n  }, [funcName]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => value === id ? '本頁產品' : '',\n      },\n    },\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        customBodyRender: certificateLinkRender,\n      },\n    },\n    {\n      name: '健保給付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自付差額',\n      label: '最低自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自付差額',\n      label: '最高自付差額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '代碼',\n      label: ' ',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => (<VisitButton url={`/item/${value}`} title=\"查看\" />),\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`相同功能分類：${funcName}`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nSameFunctionPCItemsTable.propTypes = {\n  funcName: PropTypes.string,\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport retrieve from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\nimport { sortBy } from 'utils/sorting';\nimport CellImage from 'components/CellImage';\nimport { getPCItemImageUrl } from 'utils/retrieve';\n\nexport default function MatchedAllOfferedPCItemsTable({ id }) {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額醫材對應健保全額給付品項');\n      setData(allItems.filter((x) => x['自付差額品項代碼'].includes(id)).sort(sortBy('支付點數', true)));\n    })();\n  }, [id]);\n\n  const columns = [\n    {\n      name: '代碼',\n      label: '圖片',\n      options: {\n        filter: false,\n        sort: false,\n        customBodyRender: (value) => <CellImage value={getPCItemImageUrl(value)} />,\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '名稱',\n      label: '名稱',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '藥商名稱',\n      label: '藥商名稱',\n    },\n    {\n      name: '支付點數',\n      label: '健保給付點數',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title={`對應健保全額給付品項`}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nMatchedAllOfferedPCItemsTable.propTypes = {\n  id: PropTypes.string,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DocumentTitle from 'react-document-title';\n\nimport retrieve, { getPCItemImageUrl, getPCItemDetails } from 'utils/retrieve';\nimport PCItemPricesInAllOrgsTable from 'components/PCItemPricesInAllOrgsTable';\nimport SameFunctionPCItemsTable from 'components/SameFunctionPCItemsTable';\nimport MatchedAllOfferedPCItemsTable from 'components/MatchedAllOfferedPCItemsTable';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    flex: 1,\n    padding: theme.spacing(4),\n  },\n  space: {\n    height: theme.spacing(4),\n  },\n  img: {\n    width: '100%',\n  },\n}));\n\nexport default function Item({ id: inId, match }) {\n  const classes = useStyles();\n  const [id, setId] = useState();\n  const [item, setItem] = useState();\n\n  useEffect(() => {\n    if (inId) {\n      setId(inId);\n    } else\n    if (match) {\n      const { params: { id } } = match;\n      setId(id);\n    }\n  }, [inId, match]);\n\n  useEffect(() => {\n    if (!id) return;\n\n    (async () => {\n      const allItems = await retrieve('自付差額品項');\n      const matched = allItems.find((x) => x['代碼'] === id);\n      if (!matched) {\n        // error?\n      }\n      console.log(matched);\n      setItem(matched);\n\n      // get details\n      const details = await getPCItemDetails(id);\n      console.log(details);\n    })();\n  }, [id]);\n\n  if (!item) return null;\n\n  return (\n    <DocumentTitle title={`${item['中文']}`}>\n      <div>\n        <Paper>\n          <Grid container>\n            <Grid container item xs={12} sm={2} md={4} alignItems=\"center\" justify=\"center\" className={classes.container}>\n              <img src={getPCItemImageUrl(id)} alt=\"test\" className={classes.img}/>\n            </Grid>\n            <Grid item xs={12} sm={10} md={8} className={classes.container}>\n              <Typography variant=\"h5\" component=\"h1\">\n                {item['中文']}\n              </Typography>\n              <Typography variant=\"subtitle1\" component=\"h5\">\n                {item['英文']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                代碼：{item['代碼']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                {/* TODO: link */}\n                類別：{item['類別']} / {item['分類']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                許可證字號：{item['許可證字號']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                健保給付點數：{item['健保給付點數']}\n              </Typography>\n              <Typography variant=\"body2\" component=\"p\">\n                自付差額範圍：{item['最低自付差額']} - {item['最高自付差額']}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Paper>\n        <div className={classes.space} />\n        <PCItemPricesInAllOrgsTable id={id}/>\n        <div className={classes.space} />\n        <SameFunctionPCItemsTable id={id} funcName={item['分類']} />\n        <div className={classes.space} />\n        <MatchedAllOfferedPCItemsTable id={id} />\n      </div>\n    </DocumentTitle>\n  );\n}\n\nItem.propTypes = {\n  id: PropTypes.string,\n  match: PropTypes.object,\n};\n","import React, { useState, useEffect } from 'react';\n\nimport retrieve, { getTextLinkHtml } from 'utils/retrieve';\nimport DataTable from 'components/DataTable';\n\nexport default function NCItemsTable() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      const records = await retrieve('全自費品項');\n      setData(records);\n    })();\n  }, []);\n\n  const columns = [\n    {\n      name: '手術及裝置',\n      label: '手術及裝置',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '醫材種類',\n      label: '醫材種類',\n      options: {\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '代碼',\n      label: '代碼',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '中文',\n      label: '中文',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '英文',\n      label: '英文',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '許可證字號',\n      label: '許可證字號',\n      options: {\n        filter: false,\n        display: false,\n      },\n    },\n    {\n      name: '未納入健保給付原因',\n      label: '未納入健保給付原因',\n      options: {\n        filter: true,\n        filterOptions: {\n          fullWidth: true,\n        },\n      },\n    },\n    {\n      name: '說明',\n      label: '說明',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最低自費額',\n      label: '最低自費額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '最高自費額',\n      label: '最高自費額',\n      options: {\n        filter: false,\n      },\n    },\n    {\n      name: '醫療機構數',\n      label: '醫療機構數',\n      options: {\n        filter: false,\n      },\n    },\n  ];\n\n  return (\n    <DataTable\n      title=\"全自費品項清單\"\n      description={getTextLinkHtml('資料出處：健保署 民眾全自費品項收費情形', 'https://data.nhi.gov.tw/Datasets/DatasetDetail.aspx?id=662&Mid=A110734')}\n      data={data}\n      columns={columns}\n    />\n  );\n}\n\nNCItemsTable.propTypes = {};\n","import Home from 'views/Home';\nimport PCItems from 'views/PCItems';\nimport PCItem from 'views/PCItem';\nimport NCItems from 'views/NCItems';\n\nexport default [\n  {\n    title: '首頁',\n    documentTitle: '', // use app name\n    path: '/',\n    exact: true,\n    component: Home,\n    // hideFromMenu: true,\n  },\n  {\n    title: '自付差額品項清單',\n    path: '/pcItems', // partially covered items\n    exact: true,\n    component: PCItems,\n    hideFromMenu: false,\n  },\n  {\n    title: '全自費品項清單',\n    path: '/ncItems', // non covered items\n    exact: true,\n    component: NCItems,\n    hideFromMenu: false,\n  },\n  {\n    title: '',\n    path: '/pcItem/:id',\n    exact: true,\n    component: PCItem,\n    hideFromMenu: true,\n  },\n].map((item) => {\n  item.documentTitle = item.documentTitle || item.title;\n  return item;\n});\n","import React from 'react';\n\nimport Container from '@material-ui/core/Container';\n\nimport PCItemsTriage from 'components/PCItemsTriage';\n// import Disclaimer from 'components/Disclaimer';\n\nexport default function Home() {\n  return (\n    <Container>\n      <PCItemsTriage />\n      {/* <Disclaimer /> */}\n    </Container>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport querystring from 'query-string';\n\nimport PCItemsTable from 'components/PCItemsTable';\n\nexport default function PCItems({ location }) {\n  return (\n    <div>\n      <PCItemsTable prefilters={querystring.parse(location.search, { arrayFormat: 'bracket' })}/>\n    </div>);\n}\n\nPCItems.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }),\n};\n","import React from 'react';\n\nimport NCItemsTable from 'components/NCItemsTable';\n\nexport default function NCItems() {\n  return (\n    <div>\n      <NCItemsTable />\n    </div>);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nimport VisitButton from './VisitButton';\n\nfunction GithubLinkButton({ url, title = 'GitHub', className }) {\n  const githubUrl = url ?\n    (url.startsWith('https://github.com/') ? url : `https://github.com/${url}`) :\n    undefined;\n\n  return (\n    <VisitButton\n      className={className}\n      disabled={true}\n      url={githubUrl}\n      title={title}\n      icon={<GitHubIcon />}\n    />);\n}\n\nGithubLinkButton.propTypes = {\n  title: PropTypes.string,\n  url: PropTypes.string,\n  className: PropTypes.string,\n};\n\nexport default GithubLinkButton;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport moment from 'moment';\n\nimport routes from '../routes';\nimport cache from 'utils/cache';\nimport GithubLinkButton from 'components/GithubLinkButton';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {},\n  title: {\n    marginRight: theme.spacing(1),\n    cursor: 'pointer',\n  },\n  space: {\n    flexGrow: 1,\n  },\n  button: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n}));\n\nfunction Header() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [lastUpdatedAt, setLastUpdatedAt] = useState();\n\n  useEffect(() => {\n    (async () => {\n      setLastUpdatedAt(await cache.get('lastUpdatedAt'));\n    })();\n  }, []);\n\n  return (\n    <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n      <Toolbar variant=\"dense\">\n        <Typography variant=\"h6\" className={classes.title} onClick={() => history.push('/')}>\n          查查醫療品項\n        </Typography>\n        {routes.filter(({ hideFromMenu })=>!hideFromMenu).map(({ title, path }) => (\n          <Button to={path} key={title} component={Link}>\n            {title}\n          </Button>\n        ))}\n\n        <div className={classes.space}></div>\n\n        <GithubLinkButton\n          className={classes.button}\n          url='chunyenHuang/nhi-open-data-tool'\n        />\n\n        {lastUpdatedAt &&\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n          >\n            資料更新於 {moment(lastUpdatedAt).fromNow()}\n          </Typography>}\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nHeader.propTypes = {};\n\nexport default Header;\n","import React, { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport DocumentTitle from 'react-document-title';\n\nimport Header from 'components/Header';\nimport routes from './routes';\nimport retrieve from 'utils/retrieve';\nimport cache from 'utils/cache';\n\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    display: 'flex',\n    padding: theme.spacing(4),\n  },\n  spinner: {\n    position: 'absolute',\n    top: 150,\n    left: 'calc(50% - 20px)',\n  },\n  container: {\n    paddingTop: 48,\n    flexGrow: 1,\n  },\n}));\n\nfunction App(props) {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      const { lastUpdatedAt } = await retrieve('report', { bypassCache: true });\n      const cacheLastUpdatedAt = await cache.get('lastUpdatedAt');\n      if (lastUpdatedAt !== cacheLastUpdatedAt) {\n        await cache.purge();\n      }\n      await cache.set('lastUpdatedAt', lastUpdatedAt);\n\n      setTimeout(() => {\n        setIsLoading(false);\n      }, 500);\n    })();\n  }, []);\n\n  if (isLoading) {\n    return (<CircularProgress className={classes.spinner} />);\n  }\n\n  return (\n    <Container className={classes.main} maxWidth=\"xl\">\n      <Router basename={'/'}>\n        <React.Suspense fallback={<CircularProgress className={classes.spinner} />}>\n          <CssBaseline />\n          <Header />\n          <main className={classes.container}>\n            <Switch>\n              {routes.map((route) => (\n                <Route\n                  path={route.path}\n                  exact={route.exact}\n                  key={route.path}\n                  render={(props) => (\n                    <DocumentTitle title={`${route.documentTitle}`}>\n                      <route.component {...props} />\n                    </DocumentTitle>)\n                  }\n                />\n              ))}\n              <Redirect to=\"/\" />\n            </Switch>\n          </main>\n        </React.Suspense>\n      </Router>\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}